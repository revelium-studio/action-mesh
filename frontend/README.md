# ActionMesh Frontend

A Next.js web application for uploading videos and downloading animated 3D meshes generated by ActionMesh.

## Features

- **Video Upload**: Drag-and-drop or click to upload MP4, MOV, AVI, or WebM videos
- **Processing Modes**: Choose between High Quality, Fast, and Fast + Low RAM modes
- **Real-time Status**: Poll job status with visual feedback
- **Download Panel**: Download animated mesh, per-frame meshes, and preview video

## Quick Start

### Prerequisites

- Node.js 18+
- npm, yarn, or pnpm

### Setup

```bash
# Install dependencies
npm install

# Copy environment file
cp env.example .env.local

# Edit .env.local to set your worker URL
# NEXT_PUBLIC_WORKER_URL=http://localhost:8000

# Start development server
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

## Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `NEXT_PUBLIC_WORKER_URL` | ActionMesh worker API URL | `http://localhost:8000` |

## Project Structure

```
frontend/
├── src/
│   ├── app/
│   │   ├── layout.tsx      # Root layout with metadata
│   │   ├── page.tsx        # Main page component
│   │   └── globals.css     # Global styles and Tailwind
│   ├── components/
│   │   ├── UploadForm.tsx  # Video upload and settings
│   │   ├── JobStatus.tsx   # Processing status display
│   │   └── DownloadPanel.tsx # Results and downloads
│   └── lib/
│       └── api.ts          # Worker API client
├── package.json
├── tailwind.config.js
└── tsconfig.json
```

## Development

```bash
# Run development server
npm run dev

# Build for production
npm run build

# Start production server
npm start

# Run linting
npm run lint
```

## Deployment

### Vercel (Recommended)

1. Push your code to GitHub
2. Import the project in Vercel
3. Set `NEXT_PUBLIC_WORKER_URL` environment variable
4. Deploy

### Other Platforms

The app can be deployed to any platform that supports Next.js:

- **Netlify**: Add `next.config.js` output configuration
- **Docker**: Use the standalone output mode
- **Static Export**: Not supported due to client-side API calls

## Styling

The app uses:
- **Tailwind CSS** for utility classes
- **CSS Variables** for theming (dark mode by default)
- **Geist Font** for typography
- **Lucide Icons** for iconography

### Theme Colors

| Variable | Usage |
|----------|-------|
| `--background` | Page background |
| `--foreground` | Primary text |
| `--primary` | Accent color (teal) |
| `--surface` | Card backgrounds |
| `--border` | Borders and dividers |
| `--muted` | Secondary text |
| `--accent` | Highlight color (orange) |
| `--danger` | Error states |
| `--success` | Success states |

## API Integration

The frontend communicates with the worker API:

- `POST /jobs` - Create a new processing job
- `GET /jobs/{id}` - Get job status
- `GET /outputs/{id}/{file}` - Download output files
- `GET /outputs/{id}/meshes.zip` - Download mesh archive

See `src/lib/api.ts` for the complete API client implementation.
